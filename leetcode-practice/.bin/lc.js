#! /usr/bin/env node
import{program as G}from"commander";var z=`   __           _                _          ___                _   _          
  / /  ___  ___| |_ ___ ___   __| | ___    / _ \\_ __ __ _  ___| |_(_) ___ ___ 
 / /  / _ \\/ _ \\ __/ __/ _ \\ / _\` |/ _ \\  / /_)/ '__/ _\` |/ __| __| |/ __/ _ \\
/ /__|  __/  __/ || (_| (_) | (_| |  __/ / ___/| | | (_| | (__| |_| | (_|  __/
\\____/\\___|\\___|\\__\\___\\___/ \\__,_|\\___| \\/    |_|  \\__,_|\\___|\\__|_|\\___\\___|
                                                                              `;var B=`
Examples:
  # Command with no parameters
  $ lc          // Get a question for today.
  $ lc 1314     // Get a question by its identity.
  # Exclusive commands
  $ lc -t       // Full text command to get a question for today.
  $ lc -i 1314  // Full text command to get a question by its identity.
  $ lc -r       // Get a question randomly.
  # Other instructions
  $ lc -e       // Easy mode to create a question.
  $ lc -d src   // Use the relative path to the source folder.
  $ lc -u       // Check the version to determine whether to update to the latest one.
  $ lc -l       // Get the code language of question.
  $ lc -l java  // Set the code language of question.
  $ lc -v       // Check the CLI version.
  $ lc -h       // Check the help information.
  
`;var Z="Made with \u2764\uFE0F by EternalHeart team.";var K="\u2615\uFE0F Enjoy your time on coding.";var H=(t,e)=>t.length>0||e.identity?"identity":e.random?"random":"today";var W=(t,e,o)=>{switch(t){case"identity":return e.length?e.join(" "):o?.identity;case"random":case"today":default:return null}};function X(){return{headers:{"content-type":"application/json"},body:'{"query":"\\n    query questionOfToday {\\n  todayRecord {\\n    date\\n    userStatus\\n    question {\\n      questionId\\n      frontendQuestionId: questionFrontendId\\n      difficulty\\n      title\\n      titleCn: translatedTitle\\n      titleSlug\\n      paidOnly: isPaidOnly\\n      freqBar\\n      isFavor\\n      acRate\\n      status\\n      solutionNum\\n      hasVideoSolution\\n      topicTags {\\n        name\\n        nameTranslated: translatedName\\n        id\\n      }\\n      extra {\\n        topCompanyTags {\\n          imgUrl\\n          slug\\n          numSubscribed\\n        }\\n      }\\n    }\\n    lastSubmission {\\n      id\\n    }\\n  }\\n}\\n    ","variables":{},"operationName":"questionOfToday"}',method:"POST"}}function Y(t){return{headers:{"content-type":"application/json"},body:`{"query":"\\n    query questionTranslations($titleSlug: String!) {\\n  question(titleSlug: $titleSlug) {questionId\\n    translatedTitle\\n    translatedContent\\n  }\\n}\\n    ","variables":{"titleSlug":"${t}"},"operationName":"questionTranslations"}`,method:"POST"}}import Nt from"path";var tt=async(t,e)=>await fetch(t,e).then(o=>o.json());var m=async(t,e="https://leetcode.cn/")=>await tt(Nt.join(e,"graphql"),t);function et(t){return{headers:{"content-type":"application/json"},body:`{"query":"\\n    query questionEditorData($titleSlug: String!) {\\n  question(titleSlug: $titleSlug) {\\n    questionId\\n    questionFrontendId\\n    codeSnippets {\\n      lang\\n      langSlug\\n      code\\n    }\\n    envInfo\\n    enableRunCode\\n    hasFrontendPreview\\n    frontendPreviews\\n  }\\n}\\n    ","variables":{"titleSlug":"${t}"},"operationName":"questionEditorData"}`,method:"POST"}}var ot=async t=>(await m(et(t))).data.question?.codeSnippets;var nt=async(t,e)=>(await ot(t)).find(n=>n.langSlug===e)?.code;import At from"realm";import rt from"realm";var x=class extends rt.Object{static schema={name:"Question",properties:{_id:{type:"objectId",default:()=>new rt.BSON.ObjectId},id:"string",mode:"string",slug:"string",title:"string",detail:"string",lang:"string",code:"string",url:"string?",date:"string?",timestamp:{type:"date",default:()=>new Date}},primaryKey:"_id"}};import Ft from"path";import{fileURLToPath as Tt}from"url";import{dirname as Dt}from"path";var Ot=Tt(import.meta.url),it=Dt(Ot);import D from"path";var w=D.dirname(D.dirname(D.dirname(it)));import Et from"realm";var _=class extends Et.Object{static schema={name:"Store",properties:{key:"string",value:"string",timestamp:{type:"date",default:()=>new Date}},primaryKey:"key"}};var Ut=Ft.resolve(w,"resources/stores/store.realm"),Pt=async()=>await At.open({schema:[x,_],path:Ut}),h=async t=>{let e=await Pt(),o=await t(e);return e.close(),o};import{UpdateMode as Rt}from"realm";var st=(t,e)=>h(o=>{let n;return o.write(()=>{n=o.create("Store",{key:t,value:e},Rt.Modified)}),n.toJSON()}),at=t=>h(e=>e.objects("Store").filtered("key=$0",t)?.[0]?.toJSON()?.value);var g="javascript";var lt=async t=>{await st("language",t)},$=async()=>await at("language")??g,S=t=>O.find(o=>o.name.toLowerCase()===t.toLowerCase())?.extension??".js",O=[{id:0,name:"cpp",extension:".cpp"},{id:1,name:"java",extension:".java"},{id:2,name:"python",extension:".py"},{id:11,name:"python3",extension:".py"},{id:3,name:"mysql",extension:".sql"},{id:14,name:"mssql",extension:".sql"},{id:15,name:"oraclesql",extension:".sql"},{id:4,name:"c",extension:".c"},{id:5,name:"csharp",extension:".cs"},{id:6,name:"javascript",extension:".js"},{id:20,name:"typescript",extension:".ts"},{id:8,name:"bash",extension:".sh"},{id:19,name:"php",extension:".php"},{id:9,name:"swift",extension:".swift"},{id:13,name:"kotlin",extension:".kt"},{id:24,name:"dart",extension:".dart"},{id:10,name:"golang",extension:".go"},{id:7,name:"ruby",extension:".rb"},{id:12,name:"scala",extension:".scala"},{id:16,name:"html",extension:".html"},{id:17,name:"pythonml",extension:".py"},{id:18,name:"rust",extension:".rs"},{id:21,name:"racket",extension:".rkt"},{id:22,name:"erlang",extension:".erl"},{id:23,name:"elixir",extension:".ex"},{id:25,name:"pythondata",extension:".py"},{id:26,name:"react",extension:".jsx"},{id:27,name:"vanillajs",extension:".js"},{id:28,name:"postgresql",extension:".sql"}];async function f(t,e={}){let n=(await m(Y(t))).data.question,r=await $(),i=await nt(t,r);return{id:n?.questionId,slug:t,title:n?.translatedTitle,detail:n?.translatedContent,lang:r,code:i,...e}}async function Q(){let t=await m(X()),e=t.data.todayRecord[0].question,{date:o}=t.data.todayRecord[0];return await f(e.titleSlug,{date:o})}import A from"fs";import ht from"path";import dt from"fs";function y(t){return t.replace(/<[^>]*>/g,"").replaceAll("\xA0"," ").replaceAll("&nbsp;"," ").replaceAll("&lt;","<").replaceAll("&gt;",">").replaceAll("`","")}var E=(t,e="param")=>{let n={param:/@param\s+{\s*([^}\s]+)\s*}/g,return:/@return\s+{\s*([^}\s]+)\s*}/g}[e],r=[],i;for(;(i=n.exec(t))!==null;)r.push(i[1]);return r};function ct(t){let e=/(<[a-zA-Z]+>)?输入[：|:](<\/[a-zA-Z]+>)?.+\n/g,o=/(<[a-zA-Z]+>)?输入[：|:]/gm,n=/(<[a-zA-Z]+>)?输出[：|:](<\/[a-zA-Z]+>)?.+\n/g,r=/(<[a-zA-Z]+>)?输出[：|:]/gm,i=/(<\/[a-zA-Z]+>)?/gm,s=t.detail.replaceAll("`",""),l=s.match(e)?.map(a=>`[${y(a?.replace(o,"")?.replace(i,"")?.replace(`
`,"").replace(/[a-zA-Z]+ =/g,""))}]`),p=s.match(n)?.map(a=>y(a?.replace(r,"")?.replace(i,"")?.replace(`
`,"").replace(/[a-zA-Z]+ =/g,"")));if(t.lang===g)return`showLogs(
${t.code?.match(/(var|let|const).+=/g)?.[0]?.replace(/((var|let|const)|=)\s?/gm,"").trim()},
{
data: [${l}],
structure: ${JSON.stringify(E(t.code))},
},
{
data: [${p}],
structure: ${JSON.stringify(E(t.code,"return"))}
}
)`;{console.log(l,p);let a=`/* \u6682\u65E0\u6CD5\u652F\u6301\u9664JS\u5916\u7684\u8BED\u8A00\u6D4B\u8BD5,\u63D0\u53D6\u7684\u4E00\u4E9B\u5165\u53C2\u548C\u8FD4\u56DE\u503C\u4F9B\u81EA\u884C\u6D4B\u8BD5\uFF0C\u6BCF\u4E00\u4E2Acase\u4E2D\u7684\u7B2C\u4E00\u884C\u4E3A\u5165\u53C2\uFF0C\u7B2C\u4E8C\u884C\u4E3A\u8FD4\u56DE\u503C
`;for(let c=0;c<Math.max(l.length,p.length);c++)a+=`case ${c+1}:
`,a+=`${l?.[c]}
`??`[\u53C2\u6570\u83B7\u53D6\u9519\u8BEF]
`,a+=`${p?.[c]}
`??`[\u8FD4\u56DE\u503C\u83B7\u53D6\u9519\u8BEF]
`;return a+=`
*/`,a}}function pt(t){return`https://leetcode.cn/problems/${t}/`}import Vt from"fs";import mt from"path";function ut(t,e){let o=mt.dirname(e),n=mt.join(o,"description.md");Vt.writeFileSync(n,t)}var b=t=>`${t.id}.${t.title}`;var Jt=(t,e)=>t.replace("@\u9898\u76EE",`${b(e)} ${e.date?`[${e.date}]`:""}`).replace("@\u63CF\u8FF0",y(e.detail).replace("@url",e.url).replace(/\n+/g,`
`).replaceAll(`
`,`
 * `)).replace("// @Function",e.code).replace("// @TestCase",ct(e)).replace("@url",pt(e.slug)),gt=(t,e)=>new Promise(o=>{dt.readFile(t,"utf8",(n,r)=>{if(n)throw n;let i=Jt(r,e);ut(e.detail,t),dt.writeFile(t,i,s=>{if(s)throw s;o()})})});var ft=`
/**
 * @\u9898\u76EE
 * @\u63CF\u8FF0
 */
// @Function

/**
 * Test case
 */
// @TestCase
console.log('\u70B9\u51FB\u8DF3\u8F6C\u5230\u9898\u76EE\u63D0\u4EA4:@url');`;var q=(t,e)=>new Promise(o=>{let n=ht.normalize(ht.join(e,`question${S(t.lang)}`));A.existsSync(n)?o(!1):F(e,n,t).then(r=>o(r)).catch(r=>o(!1))}),F=(t,e,o)=>new Promise((n,r)=>{try{A.mkdir(t,{recursive:!0},()=>{A.writeFile(e,ft,null,()=>{gt(e,o).then(()=>n(e))})})}catch(i){r(i)}});import jt from"path";var k=t=>!t||!t?.id?"":`${t.id}.${t.slug}`;import{readdirSync as Mt}from"fs";function yt(t,e){return Mt(t).filter(o=>o.includes(e)).length}import U from"path";var v=(t,e)=>{if(!t||!t.id)return Promise.reject("question is empty");let o=U.dirname(e),n=`${t.id}.${t.slug}`,r=` [${yt(o,n)}]`,i=U.join(o,`${n}${r}`),s=U.join(i,`question${S(t.lang)}`);return F(i,s,t)};function C(t){return{headers:{"content-type":"application/json"},body:`{"query":"\\n    query problemsetQuestionList($categorySlug: String, $limit: Int, $skip: Int, $filters: QuestionListFilterInput) {\\n  problemsetQuestionList(\\n    categorySlug: $categorySlug\\n    limit: $limit\\n    skip: $skip\\n    filters: $filters\\n  ) {\\n    hasMore\\n    total\\n    questions {\\n      acRate\\n      difficulty\\n      freqBar\\n      frontendQuestionId\\n      isFavor\\n      paidOnly\\n      solutionNum\\n      status\\n      title\\n      titleCn\\n      titleSlug\\n      topicTags {\\n        name\\n        nameTranslated\\n        id\\n        slug\\n      }\\n      extra {\\n        hasVideoSolution\\n        topCompanyTags {\\n          imgUrl\\n          slug\\n          numSubscribed\\n        }\\n      }\\n    }\\n  }\\n}\\n    ","variables":{"categorySlug":"all-code-essentials","skip":0,"limit":50,"filters":{"searchKeywords":"${t}"}},"operationName":"problemsetQuestionList"}`,method:"POST"}}import{existsSync as Gt,mkdirSync as zt,readdirSync as Bt}from"fs";import{normalize as Zt}from"path";function P(t=0,e=50){return{headers:{"content-type":"application/json"},body:`{"query":"query problemsetQuestionList($categorySlug: String, $limit: Int, $skip: Int, $filters: QuestionListFilterInput) {\\nproblemsetQuestionList(\\ncategorySlug: $categorySlug\\nlimit: $limit\\nskip: $skip\\nfilters: $filters) {\\ntotal\\nquestions {\\n  frontendQuestionId\\n  title\\n  titleCn\\n  titleSlug\\n}\\n}\\n}","variables":{"categorySlug":"all-code-essentials","skip":${t},"limit":${e},"filters":{}},"operationName":"problemsetQuestionList"}`,method:"POST"}}async function Kt(){let e=await Ht();return(await fetch("https://leetcode.cn/graphql/",P(0)).then(n=>n.json()))?.data?.problemsetQuestionList?.questions?.map(n=>n.frontendQuestionId)}async function Ht(){return fetch("https://leetcode.cn/graphql/",P(0)).then(t=>t.json()).then(t=>t?.data?.problemsetQuestionList?.total)}async function xt(){let t=i=>i.replace(/\.[a-zA-Z0-9-]+$/i,""),e=Zt("./src/");Gt(e)||zt(e);let o=Bt(e).map(i=>t(i)),r=(await Kt()).filter(i=>!o.includes(i));return r[Wt(r.length)]}function Wt(t=10){return Math.trunc(Math.random()*t%t)}async function j(){let t=await xt(),o=(await m(C(t.toString()))).data.problemsetQuestionList.questions.find(r=>r.frontendQuestionId===t.toString()).titleSlug;return await f(o)}async function L(t){let o=(await m(C(t.toString())))?.data?.problemsetQuestionList?.questions?.find(i=>i?.frontendQuestionId===t.toString());if(!o)return{id:null};let n=o.titleSlug;return await f(n,{id:t})}var I=(t,e)=>h(o=>{let n;return o.write(()=>{o.delete(o.objects("Question").filtered("mode=$0",t)),n=o.create("Question",Object.assign(e,{mode:t}))}),n.toJSON()});import N from"inquirer";import R from"path";var wt=async()=>{let t=[{type:"list",name:"mode",message:"\u8BF7\u9009\u62E9\u521B\u5EFA\u95EE\u9898\u7684\u6A21\u5F0F:",choices:["today","identity","random"]}],{mode:e}=await N.prompt(t,null),o=[{type:"input",name:"identity",message:"\u8BF7\u8F93\u5165\u9898\u76EE\u7F16\u53F7:"}],n;switch(e){case"identity":let{identity:d}=await N.prompt(o,null);console.log(d),n=await L(d);break;case"random":n=await j();break;case"today":default:n=await Q();break}await I(e,n)||console.warn(`[create][${e}]\u95EE\u9898[${n.title}]\u672A\u6210\u529F\u7F13\u5B58`);let i=k(n),s=process.cwd(),l=R.join(s,i),p=[{type:"confirm",name:"dirRight",message:`\u662F\u5426\u5728\u76EE\u5F55[ ${s} ]\u4E0B\u521B\u5EFA\u9898\u76EE[ ${i} ]?`}],{dirRight:a}=await N.prompt(p,null);if(!a){let d=[{type:"input",name:"newDir",message:`\u8BF7\u9009\u62E9\u65B0\u76EE\u5F55(\u57FA\u7840\u5730\u5740\u4E3A${process.cwd()})[\u6309\u56DE\u8F66[Enter]\u7EC8\u6B62\u64CD\u4F5C]:`}],{newDir:T}=await N.prompt(d,null);T||(console.log("[LC-LOG]\u7528\u6237\u7EC8\u6B62\u64CD\u4F5C~"),process.exit(0)),l=R.join(R.join(process.cwd(),T),`${i}`)}let c=await q(n,l);c||(c=await v(n,l)),console.log(`\u9898\u76EE[${i}]\u521B\u5EFA\u5B8C\u6210\uFF01
\u6587\u4EF6\u5730\u5740\u4E3A: ${c}`),process.exit(0)};var _t=`
A powerful practice platform for leetcode.
CLI / Template Project / Plugin, you can create question by any way you like.
See https://github.com/wh131462/leetcode-practice
`;import $t from"https";import Xt from"fs";import Yt from"path";var te="https://registry.npmjs.org/leetcode-practice",ee="https://raw.githubusercontent.com/wh131462/leetcode-practice/master/package.json",oe=()=>new Promise((t,e)=>{console.log("\u5F00\u59CB\u83B7\u53D6npm\u4ED3\u5E93\u4E2D\u7684\u7248\u672C\u53F7..."),$t.get(te,o=>{let n="";o.on("data",r=>{n+=r}),o.on("end",()=>{try{let i=JSON.parse(n)["dist-tags"].latest;console.log("npm\u4ED3\u5E93\u4E2D\u7684\u7248\u672C\u53F7\u83B7\u53D6\u6210\u529F!"),t(i)}catch(r){console.log("npm\u4ED3\u5E93\u4E2D\u7684\u7248\u672C\u53F7\u83B7\u53D6\u5931\u8D25!"),e(r)}})}).on("error",o=>{console.log("npm\u4ED3\u5E93\u4E2D\u7684\u7248\u672C\u53F7\u83B7\u53D6\u5931\u8D25!"),e(o)})}),V=()=>new Promise((t,e)=>{console.log("\u5F00\u59CB\u83B7\u53D6github\u4ED3\u5E93\u7684\u7248\u672C\u53F7..."),$t.get(ee,o=>{let n="";o.on("data",r=>{n+=r}),o.on("end",()=>{try{let r=JSON.parse(n);console.log("github\u4ED3\u5E93\u7684\u7248\u672C\u53F7\u83B7\u53D6\u6210\u529F!"),t(r.version)}catch(r){console.log("github\u4ED3\u5E93\u7684\u7248\u672C\u53F7\u83B7\u53D6\u5931\u8D25!"),e(r)}})}).on("error",o=>{console.log("github\u4ED3\u5E93\u7684\u7248\u672C\u53F7\u83B7\u53D6\u5931\u8D25!"),e(o)})}),ne=()=>{console.log("\u5F00\u59CB\u83B7\u53D6\u672C\u5730\u7248\u672C\u53F7...");try{let{version:t}=JSON.parse(Xt.readFileSync(Yt.resolve(w,"package.json"),"utf-8"));return console.log("\u672C\u5730\u7248\u672C\u53F7\u83B7\u53D6\u6210\u529F!"),t}catch{return console.log("\u672C\u5730\u7248\u672C\u53F7\u83B7\u53D6\u5931\u8D25!"),!1}},St=async()=>{let t=await oe(),e=await V(),o=ne();return{localVersion:o,npmVersion:t,githubVersion:e,isCliUpdate:t!==o,isGithubUpdate:e!==o}};import kt from"inquirer";var Qt=()=>{let t=import.meta.url;return/etc\/checkEnv.js$/mi.test(t)?"project":"cli"};import{exec as bt}from"child_process";import re from"inquirer";import ie from"https";import J from"fs";var qt=async t=>{switch(t){case"cli":return await se();case"project":return await ae();default:throw new Error(`Unsupported environment: ${t}`)}},se=()=>new Promise((t,e)=>{bt("npm install -g leetcode-practice",(o,n,r)=>{o?e(o):t()})}),ae=async()=>{async function t(e){return new Promise((o,n)=>{bt(e,(r,i,s)=>{r?n(r):o(i.trim())})})}try{let e=await V(),{hasChanges:o}=await re.prompt([{type:"confirm",name:"hasChanges",message:"\u662F\u5426\u5B58\u5728\u81EA\u5DF1\u4FEE\u6539\u8FC7\u7684\u5185\u5BB9\uFF1F",default:!1}]);if(o){console.log("\u60A8\u6709\u672A\u63D0\u4EA4\u7684\u66F4\u6539\uFF0C\u8BF7\u5148\u5904\u7406\u540E\u518D\u66F4\u65B0\u3002");return}if(await t("git status --porcelain")){console.log("\u60A8\u6709\u672A\u63D0\u4EA4\u7684\u66F4\u6539\uFF0C\u8BF7\u5148\u63D0\u4EA4\u540E\u518D\u66F4\u65B0\u3002");return}let i=(await ie.get("https://raw.githubusercontent.com/wh131462/leetcode-practice")).data;for(let l in i)J.writeFileSync(l,i[l]),await t(`git add ${l}`);let s=JSON.parse(J.readFileSync("package.json","utf-8"));s.version=`${e}`,J.writeFileSync("package.json",JSON.stringify(s,null,2)),await t(`git commit -m "update:${e}"`),console.log("\u9879\u76EE\u66F4\u65B0\u5B8C\u6210\u3002")}catch(e){console.error("\u66F4\u65B0\u8FC7\u7A0B\u4E2D\u51FA\u73B0\u9519\u8BEF:",e)}};var vt=async()=>{let t=Qt(),e={type:"list",name:"choseEnv",message:`\u81EA\u52A8\u68C0\u6D4B\u5230\u7684\u73AF\u5883\u4E3A[ ${t} ],\u5982\u679C\u4E0D\u662F,\u8BF7\u8FDB\u884C\u9009\u62E9,\u5982\u662F,\u8BF7\u6309\u4E0B\u56DE\u8F66\u786E\u8BA4.`,choices:["cli","project"],default:t},{choseEnv:o}=await kt.prompt(e,null),{localVersion:n,npmVersion:r,githubVersion:i,isCliUpdate:s,isGithubUpdate:l}=await St();console.log(`\u5F53\u524D\u7248\u672C:[ ${n} ] npm\u5305\u6700\u65B0\u7248\u672C:[ ${r} ] github\u7248\u672C:[ ${i} ]`);let p=!1,a="\u672A\u77E5";switch(o){case"project":p=l,a=i;break;case"cli":p=s,a=remoteVersion;break;default:console.log("\u672A\u77E5\u73AF\u5883:",o),process.exit(0);break}if(p){let c={type:"confirm",name:"willUpdate",message:`\u68C0\u6D4B\u5230[ ${t} ]\u53EF\u66F4\u65B0\u7248\u672C[ ${a} ],\u662F\u5426\u8FDB\u884C\u66F4\u65B0?`},{willUpdate:d}=await kt.prompt(c,null);if(d){console.log("\u5F00\u59CB\u66F4\u65B0...");let T=await qt(t);console.log("\u66F4\u65B0\u5B8C\u6210~\u795D\u4F60\u4F7F\u7528\u6109\u5FEB~")}else console.log("\u4F60\u9009\u62E9\u8DF3\u8FC7\u6B64\u6B21\u66F4\u65B0,\u5982\u679C\u60F3\u8981\u8FDB\u884C\u66F4\u65B0,\u968F\u65F6\u53EF\u4EE5\u4F7F\u7528\u53C2\u6570 -u \u8FDB\u884C\u66F4\u65B0\u68C0\u6D4B!\u795D\u4F60\u4F7F\u7528\u6109\u5FEB~");process.exit(0)}else console.log("\u5F53\u524D\u5DF2\u662F\u6700\u65B0\u7248\u672C!\u795D\u4F60\u4F7F\u7528\u6109\u5FEB~"),process.exit(0)};import le from"inquirer";var Ct=async(t=g)=>{let o=[{type:"list",name:"newSet",message:"\u8BF7\u786E\u8BA4\u4F60\u8981\u8BBE\u7F6ECLI\u7684\u8BED\u8A00\u73AF\u5883(\u5982\u679C\u9009\u9879\u5339\u914D\u6210\u529F\uFF0C\u90A3\u4E48\u6309\u4E0B\u56DE\u8F66\u786E\u8BA4\u5373\u53EF)",choices:O.map(r=>r.name),default:t}],{newSet:n}=await le.prompt(o,null);console.log("\u8BBE\u7F6E\u8BED\u8A00\u73AF\u5883\u4E3A:",n),await lt(n),process.exit(0)};var ce="1.0.3";G.version(ce).description(`${_t}
${z}
${K}`).addHelpText("after",B+Z).arguments("[identity]").option("-t, --today","Get a question today.").option("-i, --identity <identity>","Specify a question by identity.").option("-r, --random","Get a question randomly.").option("-e, --easy","Use easy mode.").option("-d, --directory <directory>","Set the question directory.").option("-l, --language [language]","Set/Get the code language of question.").option("-u, --update","Check the version to determine whether to update to the latest one.").parse(process.argv);var Lt=G.args,u=G.opts();if(u.language){if(u.language!==!0)await Ct(u.language);else{let t=await $();console.log("\u5F53\u524DCLI\u8BED\u8A00\u73AF\u5883\u4E3A:"+t)}process.exit(0)}var pe=u.directory?jt.join(process.cwd(),u.directory):process.cwd();u.easy&&(await wt(),process.exit(0));u.update&&(await vt(),process.exit(0));var M=(t,e)=>(console.log(`MODE: ${t}`),new Promise(o=>{I(t,e);let n=jt.join(pe,k(e));q(e,n).then(async r=>{r||(r=await v(e,n)),console.log(`\u9898\u76EE[${b(e)}]\u83B7\u53D6\u6210\u529F!
\u9898\u76EE\u6587\u4EF6\u5730\u5740\u4E3A:${r}`),o(!0)})})),me={today:()=>{Q().then(t=>{M("today",t).then(()=>{process.exit(0)})})},random:()=>{j().then(t=>{M("random",t).then(()=>{process.exit(0)})})},identity:t=>{L(t).then(e=>{e?.id||(console.log(`\u6307\u5B9A\u7F16\u53F7: [ ${t} ] \u9898\u76EE\u4E0D\u5B58\u5728.`),process.exit(0)),M("identity",e).then(()=>{process.exit(0)})})}},It=H(Lt,u),ue=W(It,Lt,u);await me[It](ue);
